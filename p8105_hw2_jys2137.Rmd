---
title: "Homework 2"
author: "jys2137"
date: "9/30/2021"
output: github_document
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(echo = TRUE, message = FALSE)
library(tidyverse)
library(readxl)
```

The purpose of this file is to present the answers to Homework 2, an assignment reinforcing ideas in the **Data Wrangling I** topic for P8105. 


## Problem 0.1

This “problem” focuses on structure of my submission, especially the use git and GitHub for reproducibility, R Projects to organize my work, R Markdown to write reproducible reports, relative paths to load data from local files, and reasonable naming structures for my files.

To that end:

* I created a public GitHub repo + local R Project; we suggest naming this repo / directory p8105_hw2_jys2137
* I created a single .Rmd file named p8105_hw2_jys2137.Rmd that renders to github_document
* I created a subdirectory to store the local data files used in this assignment, and used relative paths to access these data files
* I will submit a link to my repo via Courseworks
* I aim to adhere to appropriate styling and clarity of code in Problems 1+.


## Problem 1

### Cleaning the _Mr. Trash Wheel_ sheet

The code chunk below is used to:

- **clean** the `Mr. Trash Wheel` sheet by:
  - omitting non-data entries (rows with notes / figures; columns containing notes)
  - using reasonable variable names (clean names)
  - omitting rows that do not include `dumpster`-specific data
- **round** `sports_balls` to the nearest integer

```{r clean_mr_trash_wheel}
mr_trash_wheel_sheet = read_excel("./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
    sheet = "Mr. Trash Wheel", skip = 1) %>%
  janitor::clean_names() %>%
  select(dumpster:homes_powered) %>%
  drop_na(dumpster) %>%
  mutate(
    sports_balls = round(sports_balls, digits = 0))
```

### Cleaning precipitation data for 2018 and 2019

The code chunk below **cleans** the precipitation data for 2018 and 2019 by:

- omitting rows without precipitation data 
- adding a variable for year

```{r clean_precipitation_2018_2019}
precip_2018 = read_excel("./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
    sheet = "2018 Precipitation", skip = 1) %>%
  janitor::clean_names() %>%
  drop_na(month) %>%
  mutate(year = 2018)

precip_2019 = read_excel("./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
    sheet = "2019 Precipitation", skip = 1) %>%
  janitor::clean_names() %>%
  drop_na(month, total) %>%
  mutate(year = 2019)
```

### Combining precipitation datasets

Next, we **combine** the precipitation datasets and **convert month** to a character variable.
(the variable month.name is built into R and should be useful).

### Description of the data

##### For the _Mr. Trash Wheel_ data

The _Mr. Trash Wheel_ dataset includes **`r nrow(mr_trash_wheel_sheet)`** observations, taking **`r ncol(mr_trash_wheel_sheet)`** variables into account. These `r ncol(mr_trash_wheel_sheet)` variables include information on each `dumpster` (including number, weight, and volume) and the amount of each litter type (including `plastic_bottles`, `polystyrene`, `cigarette_butts`, `glass_bottles`, `grocery_bags`, `chip_bags`, and `sports_balls`). The median number of sports balls in a dumpster in 2017 was **`r mr_trash_wheel_sheet %>% filter(year == 2017) %>% pull(sports_balls) %>% median()`**. 

##### For the _precipitation_ data

The precipitation data includes 
Write a paragraph about these data; you are encouraged to use inline R. Be sure to note the number of observations in both resulting datasets, and give examples of key variables. For available data, what was the total precipitation in 2018? 
  