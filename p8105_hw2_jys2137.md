Homework 2
================
jys2137
9/30/2021

The purpose of this file is to present the answers to Homework 2, an
assignment reinforcing ideas in the **Data Wrangling I** topic for
P8105.

## Problem 0.1

This “problem” focuses on structure of my submission, especially the use
git and GitHub for reproducibility, R Projects to organize my work, R
Markdown to write reproducible reports, relative paths to load data from
local files, and reasonable naming structures for my files.

To that end:

-   I created a public GitHub repo + local R Project; we suggest naming
    this repo / directory p8105\_hw2\_jys2137
-   I created a single .Rmd file named p8105\_hw2\_jys2137.Rmd that
    renders to github\_document
-   I created a subdirectory to store the local data files used in this
    assignment, and used relative paths to access these data files
-   I will submit a link to my repo via Courseworks
-   I aim to adhere to appropriate styling and clarity of code in
    Problems 1+.

## Problem 1

### Cleaning the *Mr. Trash Wheel* sheet

The code chunk below is used to:

-   **clean** the `Mr. Trash Wheel` sheet by:
    -   omitting non-data entries (rows with notes / figures; columns
        containing notes)
    -   using reasonable variable names (clean names)
    -   omitting rows that do not include `dumpster`-specific data
-   **round** `sports_balls` to the nearest integer

``` r
mr_trash_wheel_sheet = 
  read_excel("./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
    sheet = "Mr. Trash Wheel", skip = 1) %>%
  janitor::clean_names() %>%
  select(dumpster:homes_powered) %>%
  drop_na(dumpster) %>%
  mutate(sports_balls = round(sports_balls, digits = 0))
```

### Cleaning precipitation data for 2018 and 2019

The code chunk below **cleans** the precipitation data for 2018 and 2019
by:

-   omitting rows without precipitation data
-   adding a variable for year

``` r
precip_2018 = 
  read_excel("./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
    sheet = "2018 Precipitation", skip = 1) %>%
  janitor::clean_names() %>%
  drop_na(month) %>%
  mutate(year = 2018)

precip_2019 = 
  read_excel("./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
    sheet = "2019 Precipitation", skip = 1) %>%
  janitor::clean_names() %>%
  drop_na(month, total) %>%
  mutate(year = 2019)
```

#### Combining precipitation datasets

Next, we **combine** the precipitation datasets and **convert month** to
a character variable.

``` r
precip_comb_data = 
  bind_rows(precip_2018, precip_2019) %>% 
  mutate(
    month = month.name[as.numeric(month)], 
    month = str_to_lower(month))
```

### Description of the data

##### For the *Mr. Trash Wheel* data

The *Mr. Trash Wheel* dataset includes **344** observations, taking
**14** variables into account. These 14 variables include information on
each `dumpster` (including number, weight, and volume) and the amount of
each litter type (including `plastic_bottles`, `polystyrene`,
`cigarette_butts`, `glass_bottles`, `grocery_bags`, `chip_bags`, and
`sports_balls`). The median number of sports balls in a dumpster in 2017
was **8**.

##### For the *precipitation* data

The precipitation data includes **18** observations, taking **3**
variables into account. These **3** variables include `month`, `total`
precipitation in inches, and `year`. For available data, the total
precipitation in 2018 was **70.33 in**.

## Problem 2

### Cleaning the *FiveThirtyEight* datasets

This problem uses the *FiveThirtyEight* datasets:`pols-month.csv`,
`unemployment.csv`, and `snp.csv`. The following includes steps to clean
and merge these into a single data frame using year and month as keys.

##### First, we clean `pols-month.csv`

``` r
pols_month_df = 
  read_csv("./data/fivethirtyeight_datasets/pols-month.csv") %>%
  separate("mon", into = c("year", "month", "day")) %>% 
  mutate(
    month = month.name[as.numeric(month)], 
    month = str_to_lower(month),
    president = recode(prez_gop, "0" = "dem", "1" = "gop", "2" = "gop")) %>% 
 select(-starts_with("prez"), -day)
```

##### Second, we clean `snp.csv`

Second, clean the data in snp.csv using a similar process to the above.
For consistency across datasets, arrange according to year and month,
and organize so that year and month are the leading columns.

##### Third, we clean `unemployment.csv`

Third, tidy the unemployment data so that it can be merged with the
previous datasets. This process will involve switching from “wide” to
“long” format; ensuring that key variables have the same name; and
ensuring that key variables take the same values.
